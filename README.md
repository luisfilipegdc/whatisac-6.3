# WhaTicket Versão Saas com Módulo Kanban, Modo Noturno e as seguintes integrações:</br>

Baseado no Whaticket Gold da PLW Designer

Distribuido por Launcher & Co.

🗣️ DialogFlow</br>
🔄 N8N</br>
🌐 WebHooks</br>
🤖 TypeBot</br>
💬 ChatGPT</br>

Sugestão de VPS:

BASIC: 4 vCores, 6 GB de RAM e 100 GB de SSD NVMe $4.99 USD Mensal com taxa de setup de $4.99.

STANDARD: 6 vCores, 12 GB de RAM e 200 GB de SSD NVMe $9.99 USD Mensal com taxa de setup de $5.99.

Utilize o cupom WHATICKET e obtenha 25% de desconto no primeiro pagamento.

```
https://control.peramix.com/?affid=14
```

VPS 1000 G11: 4 vCores, 8 GB de RAM e 256 GB de SSD NVMe €5.75 Mensal.

VPS 2000 G11: 8 vCores, 16 GB de RAM e 512 GB de SSD NVMe €12.60 USD Mensal.

```
https://www.netcup.com/en/?ref=283810
```
Voucher de 5 euros:

```
36nc17542354680
```

📅 20/09/2025 – Versão 6.3.0

📅 16/04/2025 – Versão 6.0.0

🌑 Correções no Darkmode (dentro das mensagens)</br>
🔄 Botão Light/Dark movido (está no perfil)</br>
📊 Estilos dos cards da Dashboard alterados (removido botão de impressão)</br>
🎟️ Estilo de ticket alterado</br>
⚡ Respostas rápidas (layout novo)</br>
📂 Correção no envio de menu (filas) – na 3ª tentativa é enviado automaticamente para a 1ª fila</br>
🌍 Botão de tradução</br>
⚠️ Aviso de contato (caso o ticket esteja aberto, é emitido um aviso)</br>
🔧 Página de conexão reformulada</br>
👑 Adicionada opção de SuperAdmin (dentro do popup do usuário)</br>
📆 Correção no agendamento (agora envia imagem com texto)</br>
♻️ Agendamento reformulado (com suporte a ciclos)</br> 
🔐 Novo layout da tela de login</br>
📝 Novo layout da tela de signup</br>
🛠️ Correção de vazamento no WebSocket</br>

📅 13/12/2024 – Versão 5.5.0

🛠️ Correção ao redimensionar área de ticket</br>
✅ Validação de número no ContactModal</br>
🔄 Regressão OpenAI para versão 3.3.0 e wbotMessageListener.ts</br>
🎧 Áudio no iPhone</br>
📵 Recusando chamadas automaticamente</br>
📲 Filas da conexão ao requisitar novo QR Code</br>
📊 Dashboard reformulado</br>
📈 Página de relatórios</br>
🗂️ Kanban reformulado</br>

📅 07/11/2024 – Versão 5.3.5

📅 Correção da Data de Vencimento no Topo: Data agora permanece fixa. </br>
🔄 Automação em Grupos: Não envia automações para grupos. </br>
🚫 Botão disableBot: Desabilita bots ou automações. </br>
✉️ Correção de Mensagem Citada. </br>
🔗 Permissão para Conexões com Mesmo Nome. </br>
⏳ Expiração de Conexões: Desconexão automática após vencimento da empresa. </br>
🗑️ Seleção para Deletar Contatos: Opção de seleção para exclusão na página “Contatos”. </br>
🎵 Correção no Envio de Áudio OGG em respostas rápidas. </br>
📂 Visualização de Tickets Fechados por Operador: Aba removida do painel de usuários. </br>
📜 Visualização de Grupos por Operador: Aba removida do painel de usuários. </br>
💸 Atualização Financeira após Alteração de Plano: Valor ajustado automaticamente na lista do Financeiro. </br>

📅 24/07/2024 – Versão 5.2.6

✅ Fechar todos os tickets abertos ou em espera. </br>
👍 Reagir a uma mensagem. </br>
🔄 Encaminhar mensagens para outro ticket. </br>
🎨 Aparência do menu aprimorada. </br>
🚪 Botão “Sair” adicionado ao menu. </br>
🗑️ Notificação quando uma mensagem é apagada no WhatsApp, informando no chat. </br>
🔄 API atualizada. </br>
🆕 Novo layout da página de login. </br>
💬 Indicação “Digitando” ou “Gravando” aparece no ticket, no canto inferior direito, ao lado do nome. </br>

📚 Biblioteca Baileys Atualizada:</br>

V 6.7.19

Opções de Bibliotecas:
</br>
https://github.com/WhiskeySockets/Baileys/

https://github.com/renatoiub/WSocket/

https://github.com/canove/whaileys

Versão atual do WhatsApp Web:

```
"version": [2, 3000, 1027339477]
```

Controlada em src/Defaults/baileys-version.json, declare a versão mais atual disponível em https://wppconnect.io/pt-BR/whatsapp-versions/

Ao alterar faça o build novamente com npm run build, utilize o usuário deploy.

Pode alterar a versão com sript dentro do backend, conforme instruções no final desse arquivo.

Instalador atualizado compatível com Ubuntu 22, versão NodeJS 20:

```
https://github.com/launcherbr/instalador.git
```
Notas Rápidas: </br>
Requer servidor Ubuntu 22.04 LTS com ao menos 4 vcore e 8gb de ram.</br>
Recomendamos Peramix, Netcup, Contabo, e Hetzner</br>
Evite latencia muito baixa < 10ms e muito alta > 400ms (servidor local e servidores na Europa)</br>

Siga os arquivos de Instruções para instalação, você precisa adquirir o acesso ao Google Drive:</br>
https://loja.infinitepay.io/launcher-tecnologia/aep0253-script-crm-whaticket-gold-com-saas-e-kanba

```
Google Drive> Compartilhados Comigo > Compartilhados > Whaticket SaaS > Instruções
```
Ao realizar seu pedido chamar no whatspp e escolher a opção de liberação de acesso.

Não há suporte a não compradores.

Confira no arquivo pdf como gerar um webhook de retorno automático de pagamento da Efi.

Personalizações:</br>
As instruções para alteração de cores, logo, icones e nome da instalação estão nos arquivos de instruções, dentro do Google Drive.

Documentação em Desenvolvimento:
```
https://launcher-and-co.gitbook.io/whaticketsaas/
```

# 📱 WhatsApp Version Fix Tool

### Executando o Fix

Abra o terminal na pasta `/backend` e execute:

```bash
node fix-version.js latest
```

## 📋 Comandos Disponíveis

### Aplicar versão mais recente (recomendado)
```bash
node fix-version.js latest
```

### Ver versão atual
```bash
node fix-version.js --current
```

### Aplicar versão customizada
```bash
node fix-version.js 2 3000 1027381369
```

## 🔍 Como Encontrar Versões Funcionais

Para encontrar versões do WhatsApp que estão funcionando:

1. **Visite o site oficial:** https://wppconnect.io/pt-BR/whatsapp-versions/

2. **Você verá uma lista como esta:**
   ```
   Todas as Versões do WhatsApp
   
   2.3000.1027381369-alpha estável atual
   Lançado em 20/09/2025, 5:18:28 AM, expira em 20/11/2025, 5:18:28 AM
   
   2.3000.1027372286-alpha estável
   Lançado em 19/09/2025, 11:37:25 PM, expira em 19/11/2025, 11:37:25 PM
   ```

3. **Como extrair a versão:**
   
   Da versão `2.3000.1027381369-alpha`, você precisa extrair os números:
   - **Major:** `2`
   - **Minor:** `3000` 
   - **Patch:** `1027381369`

4. **Para aplicar essa versão:**
   ```bash
   node fix-version.js 2 3000 1027381369
   ```

## 📝 Exemplo Prático Passo a Passo

### Cenário: Seu WhatsApp parou de funcionar

1. **Vá para a pasta backend:**
   ```bash
   cd /caminho/para/seu/projeto/backend
   ```

2. **Verifique a versão atual:**
   ```bash
   node fix-version.js --current
   ```
   
   Resultado:
   ```
   📱 Versão atual: [2, 2413, 1]
   ```

3. **Visite:** https://wppconnect.io/pt-BR/whatsapp-versions/

4. **Escolha uma versão estável (exemplo: `2.3000.1027381369-alpha`)**

5. **Aplique a nova versão:**
   ```bash
   node fix-version.js 2 3000 1027381369
   ```
   
   Resultado:
   ```
   🔄 Usando versão customizada: [2, 3000, 1027381369]
   📱 Versão atual: [2, 2413, 1]
   ✅ Versão atualizada com sucesso para: [2, 3000, 1027381369]
   
   💡 Dicas:
     - Reinicie o servidor para aplicar as mudanças
     - Teste a conexão após a mudança
     - Se houver problemas, use uma versão mais estável
   ```

6. **Reinicie seu servidor Whaticket**

## ⚠️ Dicas Importantes

### ✅ Faça Sempre
- ✅ Use versões marcadas como **"estável"**
- ✅ Verifique se a versão não está expirada
- ✅ Reinicie o servidor após aplicar a correção
- ✅ Teste a conexão depois da mudança
- ✅ Mantenha um backup do arquivo original

### ❌ Evite
- ❌ Usar versões muito antigas
- ❌ Usar versões que estão prestes a expirar
- ❌ Aplicar múltiplas mudanças rapidamente
- ❌ Esquecer de reiniciar o servidor

## 🐛 Solução de Problemas

### Erro: "Arquivo wbot.ts não encontrado"
```bash
❌ Arquivo wbot.ts não encontrado em: /caminho/src/libs/wbot.ts
   Certifique-se de estar executando o script na pasta /backend do projeto.
```

**Solução:** Certifique-se de que:
1. Está executando o comando na pasta `/backend`
2. O arquivo `wbot.ts` existe em `backend/src/libs/wbot.ts`
3. A estrutura do projeto está correta

### WhatsApp ainda não conecta após a mudança
1. **Tente uma versão diferente** do site wppconnect.io
2. **Aguarde alguns minutos** antes de testar
3. **Reinicie completamente** o servidor
4. **Limpe o cache** do navegador
5. **Verifique os logs** do servidor para outros erros

### Versão não aceita pelo WhatsApp
1. **Use uma versão mais recente** do site
2. **Evite versões muito antigas** (mais de 2 meses)
3. **Prefira versões marcadas como "estável atual"**

## 📞 Suporte

Se você continuar tendo problemas:

1. **Verifique o site oficial:** https://wppconnect.io/pt-BR/whatsapp-versions/
2. **Use sempre versões marcadas como estáveis**
3. **Aguarde lançamento de novas versões** se todas estiverem com problema

## 🔄 Atualizações Automáticas

O arquivo já vem com a versão mais recente configurada como `latest`. Para facilitar o uso futuro:

```bash
# Sempre use este comando para aplicar a versão mais atual
node fix-version.js latest
```
